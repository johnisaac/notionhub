var app={add_update:function(){var a=$("Update_content").getValue().strip();var b=$("app_id").getValue().strip();new Ajax.Request("/new_update",{method:"post",parameters:{content:a,app_id:b},onSuccess:function(c){$("char_left").update("140")},onFailure:function(c){alert("There is some problem with adding your update, we have noted the problem. Please try again later.")}})}};$("Update_submit").disable();$("Update_content").observe("keyup",function(a){$("char_left").update(140-$("Update_content").getValue().length);if(($("Update_content").getValue().length>=1)&&($("Update_content").getValue().length<=140)){$("Update_submit").enable();$("char_left").addClassName("enable");$("char_left").removeClassName("disable")}else{if($("Update_content").getValue().length==0){$("Update_submit").disable();$("char_left").removeClassName("enable");$("char_left").removeClassName("disable")}else{$("Update_submit").disable();$("char_left").addClassName("disable");$("char_left").removeClassName("enable")}}});;$("Update_submit").observe("click",function(a){ if ($F("Update_content").strip().length > 0) { app.add_update();}a.stop()});